<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>页面换肤</title>
		<link rel="stylesheet" href="css/secondweek2.css" />
		<script type="text/javascript">
			window.onload=function(e){
				//console.log(cns[3].style.backgroundColor);
				var cns=document.getElementsByTagName('div'); //cns是6个div
				var P=document.getElementById('p1');
				if(!window.localStorage){
					console.log('该浏览器不支持localStorage!');
				}
				else{
					var changeCol=function(e){
						var Col=e.target.style.backgroundColor;	//当前点击div的颜色
					    var PCol=P.style.backgroundColor; //段落颜色
					    //console.log(Col,PCol);
					    var date=new Date(); //把时间作为localStorage的key
						localStorage.setItem(date,Col);  
						P.style.backgroundColor=e.target.style.backgroundColor;
						
					}
					
					for(var i=0;i<cns.length;i++){
						cns[i].addEventListener('click',changeCol);
					};
                    P.style.backgroundColor=localStorage[localStorage.key(localStorage.length-1)];
				}
			}
		</script>
	</head>
	<body>
		<form>
			<fieldset id='f1'>
				<legend>
					页面换肤
				</legend>
				<fieldset id='f2'>
					<div class='col0' style="background-color: gray;margin-top: 30px;"></div>
					<div class='col1' style="background-color: blueviolet;margin-top: 30px;"></div>
					<div class='col2' style="background-color: #FF0000;margin-top: 30px;"></div>
					<div class='col3' style="background-color: cornflowerblue;margin-top: 30px;"></div>
					<div class='col4' style="background-color: orange;margin-top: 30px;"></div>
					<div class='col5' style="background-color: lawngreen;margin-top: 30px;"></div>
				</fieldset>
				<p id='p1' style='background-color: cornflowerblue;'>
					LocalStorage将数据保存在客户端本地的硬件设备中，即使浏览器被关闭了，
					该数据仍然存在，下次打开浏览器访问网站时仍然可以继续使用。
				</p>
			</fieldset>
		</form>
	</body>
</html>
